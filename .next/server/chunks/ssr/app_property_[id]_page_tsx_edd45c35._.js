module.exports=[5200,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(14315),f=a.i(1484),g=a.i(24987),h=a.i(16201),i=a.i(11156),j=a.i(56738),k=a.i(57431),l=a.i(77924),m=a.i(58042),n=a.i(94222),o=a.i(54419),p=a.i(59854),q=a.i(48662),r=a.i(38246),s=a.i(47033),t=a.i(38164);let u=[{month:"Jan",value:100},{month:"Feb",value:102},{month:"Mar",value:105},{month:"Apr",value:108},{month:"May",value:110},{month:"Jun",value:115},{month:"Jul",value:118},{month:"Aug",value:122},{month:"Sep",value:125},{month:"Oct",value:128},{month:"Nov",value:132},{month:"Dec",value:135}];function v(){let v=(0,d.useParams)(),w=Array.isArray(v.id)?v.id[0]:v.id,[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)("overview"),[D,E]=(0,c.useState)(0),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(null),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(null);if((0,c.useEffect)(()=>{w&&b();async function b(){let b=(0,s.getUserId)();if(!b)return void A(!1);try{let{getProperty:c,getUserProfile:d}=await a.A(36259),[e,f]=await Promise.all([c(w),d(b)]);y(e),S(f),e&&E(e.minInvestment||35e3)}catch(a){console.error("Failed to load data",a)}finally{A(!1)}}},[w]),z)return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-xl text-slate-500",children:"Loading details..."})}),(0,b.jsx)(f.default,{})]});if(!x)return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xl text-slate-500 mb-4",children:"Property not found"}),(0,b.jsx)(r.default,{href:"/explore",className:"text-blue-600 hover:underline",children:"Back to Explore"})]})}),(0,b.jsx)(f.default,{})]});let T=x?D*x.rentYield/12/100:0,U=x?D*x.rentYield/100:0,V=x?D*x.appreciation/100:0,W=async a=>{if(M(a),"wallet"===a){if(R?.walletBalance<D)return void alert(`Insufficient Wallet Balance (₹${R.walletBalance.toLocaleString("en-IN")}). Please choose Gateway Payment or add funds.`);await Z()}else"gateway"===a&&await X()},X=async()=>{let b=(0,s.getUserId)();if(!b)return void alert("Please log in to invest.");G(!0);try{let{createPaymentOrder:c}=await a.A(36259),d="string"==typeof x.id?parseInt(x.id):x.id,e=await c(b,D,d,`Investment in ${x.name}`);e.success&&e.orderId?(O(e),Q(!0)):alert(e.error||"Failed to create payment order")}catch(a){console.error(a),alert("Failed to initialize payment")}finally{G(!1)}},Y=async(b,c)=>{let d=(0,s.getUserId)();if(!d||!N)return void alert("Payment verification failed - missing data");G(!0);try{let{verifyPayment:e,invest:f,getUserProfile:g}=await a.A(36259),h="string"==typeof x.id?parseInt(x.id):x.id,i=await e(N.orderId,b,c,d,D,h);if(!i.success)return void alert(i.error||"Payment verification failed");let j=await f(d,h,D);if(j.success){K(!1),Q(!1),I(!0),O(null);let a=await g(d);S(a),setTimeout(()=>I(!1),5e3)}else alert(j.error||"Investment processing failed. Payment verified but investment not processed. Contact support.")}catch(a){console.error(a),alert("Error processing payment. Payment verified but investment failed. Contact support.")}finally{G(!1)}},Z=async()=>{let b=(0,s.getUserId)();if(!b)return void alert("Please log in to invest.");G(!0);try{let{invest:c,getUserProfile:d}=await a.A(36259),e="string"==typeof x.id?parseInt(x.id):x.id,f=await c(b,e,D);if(f.success){K(!1),I(!0);let a=await d(b);S(a),setTimeout(()=>I(!1),5e3)}else alert(f.error||"Investment failed")}catch(a){console.error(a),alert("An error occurred")}finally{G(!1)}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.default,{}),(0,b.jsxs)("main",{className:"min-h-screen py-8 px-4 sm:px-6 lg:px-8 relative",children:[(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"w-full h-96 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl mb-8 flex items-center justify-center text-white font-bold text-2xl relative overflow-hidden group",children:[x.image&&"/images/property-placeholder.jpg"!==x.image&&!x.image.startsWith("/images/prop")?(0,b.jsx)("img",{src:x.image,alt:x.name,className:"absolute inset-0 w-full h-full object-cover mix-blend-overlay opacity-50 group-hover:scale-105 transition-transform duration-500"}):(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/30 to-blue-600/30"}),(0,b.jsxs)("span",{className:"relative z-10 text-center px-4",children:[x.city," - ",x.name]})]}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8 mb-12",children:[(0,b.jsxs)("div",{className:"lg:col-span-2",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-secondary mb-2",children:x.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-700 mb-6",children:[(0,b.jsx)(g.MapPin,{size:20}),(0,b.jsx)("span",{children:x.city})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-slate-700 mb-1",children:"Rent Yield"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[x.rentYield,"%"]})]}),(0,b.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-slate-700 mb-1",children:"Appreciation"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[x.appreciation,"%"]})]}),(0,b.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-slate-700 mb-1",children:"Type"}),(0,b.jsx)("p",{className:"text-lg font-bold text-purple-600",children:x.type})]})]})]}),(0,b.jsx)("div",{className:"mb-8 border-b border-slate-200",children:(0,b.jsx)("div",{className:"flex gap-8 overflow-x-auto",children:["overview","financials","documents","spv"].map(a=>(0,b.jsx)("button",{onClick:()=>C(a),className:`pb-4 font-semibold capitalize transition-colors whitespace-nowrap ${B===a?"text-blue-600 border-b-2 border-blue-600":"text-slate-700 hover:text-secondary"}`,children:a},a))})}),"overview"===B&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-secondary mb-3",children:"Property Overview"}),(0,b.jsxs)("p",{className:"text-slate-700 leading-relaxed",children:["This premium ",x.type.toLowerCase()," property located in ",x.city," offers excellent returns through rental income and property appreciation. Professionally managed through our secure SPV structure."]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-secondary mb-3",children:"Investment Highlights"}),(0,b.jsx)("ul",{className:"space-y-2",children:[`${x.rentYield}% annual rental yield`,`${x.appreciation}% historical appreciation`,"Fractional ownership available","Professional asset management","Monthly rental distributions"].map((a,c)=>(0,b.jsxs)("li",{className:"flex items-center gap-3 text-slate-700",children:[(0,b.jsx)(h.CheckCircle,{size:20,className:"text-green-500 flex-shrink-0"}),(0,b.jsx)("span",{children:a})]},c))})]})]}),"financials"===B&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-secondary mb-3",children:"Appreciation Chart"}),(0,b.jsx)("div",{className:"p-6 bg-white rounded-lg border border-slate-200",children:(0,b.jsx)(q.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(k.LineChart,{data:u,children:[(0,b.jsx)(o.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,b.jsx)(m.XAxis,{dataKey:"month"}),(0,b.jsx)(n.YAxis,{}),(0,b.jsx)(p.Tooltip,{contentStyle:{backgroundColor:"#1E293B",border:"none",borderRadius:"8px",color:"#fff"}}),(0,b.jsx)(l.Line,{type:"monotone",dataKey:"value",stroke:"#4C7EFF",dot:{fill:"#4C7EFF",r:4},strokeWidth:2})]})})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-slate-700 mb-1",children:"Annual Rental Return"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["₹",U.toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),(0,b.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-slate-700 mb-1",children:"Appreciation Value"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["₹",V.toLocaleString("en-IN",{maximumFractionDigits:0})]})]})]})]}),"documents"===B&&(0,b.jsx)("div",{className:"space-y-3",children:["SPV Agreement","Property Title Deed","Valuation Report","Investment Terms & Conditions"].map((a,c)=>(0,b.jsxs)("div",{className:"p-4 bg-white border border-slate-200 rounded-lg flex justify-between items-center",children:[(0,b.jsx)("span",{className:"font-medium text-secondary",children:a}),(0,b.jsx)("button",{className:"text-blue-600 hover:underline font-semibold",children:"Download"})]},c))}),"spv"===B&&(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"p-6 bg-white rounded-lg border border-slate-200",children:[(0,b.jsx)("h4",{className:"font-bold text-secondary mb-3",children:"SPV Structure Benefits"}),(0,b.jsxs)("ul",{className:"space-y-2 text-slate-600",children:[(0,b.jsx)("li",{children:"✓ Direct legal ownership through SPV"}),(0,b.jsx)("li",{children:"✓ Enhanced legal protection"}),(0,b.jsx)("li",{children:"✓ Transparent financial reporting"}),(0,b.jsx)("li",{children:"✓ Professional asset management"}),(0,b.jsx)("li",{children:"✓ Regulatory compliance ensured"})]})]})}),(0,b.jsxs)("div",{className:"mt-12 p-6 bg-slate-50 rounded-lg",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-secondary mb-4",children:"Frequently Asked Questions"}),(0,b.jsx)("div",{className:"space-y-4",children:[{q:"How often will I receive rental income?",a:"Monthly, directly to your bank account."},{q:"Can I exit my investment?",a:"Yes, through our secondary market platform."},{q:"What are the fees?",a:"Transparent fee structure visible at checkout."}].map((a,c)=>(0,b.jsxs)("div",{className:"border-b border-slate-200 pb-4 last:border-0",children:[(0,b.jsx)("p",{className:"font-semibold text-secondary mb-2",children:a.q}),(0,b.jsx)("p",{className:"text-slate-700 text-sm",children:a.a})]},c))})]})]}),(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)("div",{className:"sticky top-24 bg-white rounded-xl border border-slate-200 p-6",children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-secondary mb-6",children:"Invest Now"}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-secondary mb-3",children:"Investment Amount"}),(0,b.jsx)("input",{type:"range",min:x.minInvestment,max:10*x.minInvestment,value:D,onChange:a=>E(Number(a.target.value)),className:"w-full"}),(0,b.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:(0,b.jsx)("input",{type:"number",value:D,onChange:a=>E(Number(a.target.value)),className:"w-full bg-transparent text-2xl font-bold text-blue-600 outline-none"})})]}),(0,b.jsxs)("div",{className:"space-y-3 mb-6 p-4 bg-slate-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-700",children:"Monthly Return"}),(0,b.jsxs)("span",{className:"font-semibold text-secondary",children:["₹",T.toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-700",children:"Annual Return"}),(0,b.jsxs)("span",{className:"font-semibold text-secondary",children:["₹",U.toLocaleString("en-IN",{maximumFractionDigits:0})]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm border-t border-slate-200 pt-3",children:[(0,b.jsx)("span",{className:"text-slate-700",children:"Est. Appreciation"}),(0,b.jsxs)("span",{className:"font-semibold text-green-600",children:["₹",V.toLocaleString("en-IN",{maximumFractionDigits:0})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm text-slate-500",children:[(0,b.jsx)("span",{children:"Funded"}),(0,b.jsxs)("span",{children:[Math.round((x.fundedAmount||0)/(x.totalValue||x.totalAmount||1e6)*100),"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min((x.fundedAmount||0)/(x.totalValue||x.totalAmount||1e6)*100,100)}%`}})})]}),(0,b.jsx)("button",{onClick:()=>{if(R?.kycStatus!=="VERIFIED"){alert("Please complete KYC verification to invest."),window.location.href="/kyc";return}M(null),O(null),K(!0)},className:"w-full mt-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-bold hover:shadow-lg transition-all",children:"Proceed to Payment"}),H&&(0,b.jsx)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm text-center",children:"✓ Investment Successful! Check Dashboard."})]})})]})]}),J&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-2xl animate-in fade-in zoom-in duration-200",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-secondary mb-4",children:"Confirm Investment"}),(0,b.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg mb-6",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"Property"}),(0,b.jsx)("span",{className:"font-semibold",children:x.name})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"Amount"}),(0,b.jsxs)("span",{className:"font-semibold",children:["₹",D.toLocaleString("en-IN")]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm border-t border-slate-200 pt-2 mt-2",children:[(0,b.jsx)("span",{className:"text-slate-600 font-medium",children:"Total Payable"}),(0,b.jsxs)("span",{className:"font-bold text-blue-600",children:["₹",D.toLocaleString("en-IN")]})]})]}),null!==L&&N?(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("p",{className:"text-sm text-slate-600 mb-4 text-center",children:"gateway"===L?"Redirecting to payment gateway...":"Processing wallet payment..."}),F&&(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-secondary mb-3",children:"Choose Payment Method"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("button",{onClick:()=>W("gateway"),disabled:F,className:"w-full p-4 border-2 border-blue-500 rounded-lg hover:bg-blue-50 transition-colors flex items-center gap-3 disabled:opacity-50",children:[(0,b.jsx)(i.CreditCard,{size:24,className:"text-blue-500"}),(0,b.jsxs)("div",{className:"flex-1 text-left",children:[(0,b.jsx)("p",{className:"font-semibold text-secondary",children:"Payment Gateway"}),(0,b.jsx)("p",{className:"text-xs text-slate-600",children:"Pay via UPI, Cards, Net Banking"})]})]}),(0,b.jsxs)("button",{onClick:()=>W("wallet"),disabled:F||(R?.walletBalance||0)<D,className:"w-full p-4 border-2 border-slate-300 rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(j.Wallet,{size:24,className:"text-slate-500"}),(0,b.jsxs)("div",{className:"flex-1 text-left",children:[(0,b.jsx)("p",{className:"font-semibold text-secondary",children:"Wallet Balance"}),(0,b.jsxs)("p",{className:"text-xs text-slate-600",children:["₹",(R?.walletBalance||0).toLocaleString("en-IN")," available",(R?.walletBalance||0)<D&&(0,b.jsx)("span",{className:"text-red-500 ml-1",children:"(Insufficient)"})]})]})]})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:null!==L&&N?null:(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("button",{onClick:()=>K(!1),disabled:F,className:"w-full py-3 text-slate-600 font-semibold hover:bg-slate-50 rounded-lg",children:"Cancel"})})})]})}),P&&N&&(0,b.jsx)(t.default,{amount:N.amount,orderId:N.orderId,keyId:N.key,description:`Investment in ${x.name}`,onSuccess:Y,onFailure:a=>{console.error("Payment failed:",a),alert(a.message||"Payment failed. Please try again."),Q(!1),G(!1)},onClose:()=>{Q(!1),O(null),G(!1)}})]}),(0,b.jsx)(f.default,{})]})}a.s(["default",()=>v])}];

//# sourceMappingURL=app_property_%5Bid%5D_page_tsx_edd45c35._.js.map